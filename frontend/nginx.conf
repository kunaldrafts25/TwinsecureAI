# project/nginx.conf

# Simple configuration to serve the SPA and handle routing

server {
    listen 80;             # Listen on port 80 inside the container
    server_name localhost; # Optional: You can specify a server name

    # Root directory for static files (where Vite builds the app)
    root /usr/share/nginx/html;

    # Default file to serve
    index index.html;

    # Serve static files directly
    location / {
        # Try to serve the requested file directly, then directory,
        # otherwise fall back to index.html (for SPA routing)
        try_files $uri $uri/ /index.html;
    }

    # Optional: Add custom headers, gzip compression, etc.
    # location ~* \.(?:css|js)$ {
    #   expires 1y;
    #   add_header Cache-Control "public";
    # }

    # Optional: Gzip compression
    # gzip on;
    # gzip_vary on;
    # gzip_proxied any;
    # gzip_comp_level 6;
    # gzip_types text/plain text/css text/xml application/json application/javascript application/xml+rss application/atom+xml image/svg+xml;
}